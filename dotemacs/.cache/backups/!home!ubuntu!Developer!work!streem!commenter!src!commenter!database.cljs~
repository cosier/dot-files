(ns commenter.database
  (:require [cljs.nodejs]))

;; Bring in out logging helper
;;(load-namespace commenter.logger)
;;(load-namespace cljs.nodejs)

(def log (commenter/logger))

(defn get-config-host [] "localhost")
(defn get-config-user [] "root")
(defn get-config-password [] "")
(defn get-config-database [] "stream-ranking")

(let [mysql (js/require "mysql")
      connection (.createPool mysql {
                                     :host get-config-host
                                     :user get-config-user
                                     :password get-config-password
                                     :database get-config-database
                                     })]

  (println "hello"))


(defn test-response []
  (.log js/console "test-response triggered")
  (str "test-response"))

(defn dynamic [method args]
  (test-response))

(log (str "Loading Mysql"))
